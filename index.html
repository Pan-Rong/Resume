<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>潘荣简历</title>
    <link rel="stylesheet" href="libs/bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="libs/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="libs/jQuerylib/css/jquery.fullPage.css">
    <link rel="stylesheet" href="css/index.css">

    <script src="libs/jQuerylib/jquery-3.2.1.min.js"></script>
    <script src="libs/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <script src="libs/jQuerylib/jquery.fullPage.min.js"></script>
    <script src="libs/jsPdfDebug/jsPdfDebug.js"></script>
</head>
<body>
    <header>
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation"><!-- -->
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbarlist">
                        <span ckass="sr-only"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="container-fluid navbar-left">
                        <a class="navbar-brand githubavator" href="https://github.com/Pan-Rong/myProjects" title="点我了解更多信息"><img src="images/githubavator.jpg"></a>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="navbarlist">
                    <ul class="nav navbar-nav nav-pills navbar-right" id="menu">
                        <li data-menuanchor="homepage" class="active"><a href="#homepage">主&nbsp;&nbsp;页</a></li>
                        <li data-menuanchor="educationpage" class=""><a href="#educationpage">教育经历</a></li>
                        <li data-menuanchor="workspage" class=" "><a href="#workspage">作品展示</a></li>
                        <li data-menuanchor="contactpage" class=" "><a href="#contactpage">联系方式</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div id="fullpageshow">
        <div class="section" id="printpage1">
            <div class="container intro">
                <div class="avator">
                    <a href="https://github.com/Pan-Rong/myProjects"><img src="images/picture1.png"></a>
                </div>
                <div class="text">
                    <h3>我叫潘荣</h3>
                    <h3>求职意向：前端攻城狮</h3>
                    <h4><i class="fa fa-phone"> : 131 6805 3724</i></h4>
                    <h4><i class="fa fa-envelope-o"> : 947789167@qq.com</i></h4>
                </div>
            </div>
        </div>
        <div class="section" id="printpage2">
            <div class="container eduintro">
                <div class="introlist">
                   <!--显示简介列表 -->
                </div> 
                <hr>
                <div class="skill">
                   <!--技能及证书列表 -->
                </div>
            </div>
        </div>
        <div class="section" id="printpage3">
            <div class="imagerotation">
                <div class="imagebox">
                    <!--显示作品图片-->
                </div>
                <div class="imagetitle">
                    <!--显示图片标题信息-->
                </div>
                <div class="imagebrief">
                    <!--作品功能简介-->        
                </div>
                <div class="icobox">
                    <div class="active" data-imageiconnum="1"></div>
                    <div class="" data-imageiconnum="2"></div>
                    <div class="" data-imageiconnum="3"></div>
                    <div class="" data-imageiconnum="4"></div>
                    <div class="" data-imageiconnum="5"></div>
                    <div class="" data-imageiconnum="6"></div>
                    <div class="" data-imageiconnum="7"></div>
                </div>
            </div>
        </div>
        <div class="section" id="printpage4">
            <h3>联 系 我</h3>
            <p>敢于尝试、喜欢钻研</p>
            <p>做事踏实、适应力强</p>
            <p>注重效率、有轻微强迫症</p>
            <p>相信方法总比困难多</p>
            <p>赶快带上我吧！</p>
            <div class="icons">
                <a href="https://github.com/Pan-Rong/myProjects"><i class="fa fa-github"></i></a>
                <a href="#homepage"><i class="fa fa-qq"></i></a>
                <a href="#homepage"><i class="fa fa-weixin"></i></a>
                <a href="#homepage"><i class="fa fa-envelope-o"></i></a>
            </div>
        </div>
    </div>
 <footer>
    <nav class="navbar navbar-default navbar-fixed-bottom" role="navigation">
        <div class="angledown"><i class="fa fa-angle-double-down"></i></div>  
        <button onclick="printresume()">toPDF</button>   
    </nav>  
</footer>
<script src="js/index.js"></script>
<script>
var printImg=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];    
//方向默认竖直，尺寸points,格式a4[595.28,841.89]
var pdf=new jsPDF("","pt","a4");
var tempPosition=5;
var temLen=printImg.length;
var flg=0;//用于标记图片是否全部输出，等于printImg时全部输出；
function printresume(){
        for(var i=0;i<temLen;i++){
            getImgBase64(printImg[i]);
        }
} 
/*将转化成Base64编码的图片转成PDF*/
function base64ToPdf(imgBase){
        flg++;
    //addImage后两个参数控制添加图片的尺寸，此处将页面高度和宽度固定
        pdf.addImage(imgBase,"JPEG",5,tempPosition,580,410);
        //暂时未实现图片顺序打印
        tempPosition =tempPosition+415; 
        if(tempPosition>800&&flg<temLen){
            tempPosition=5;
            pdf.addPage(); 
        }
        if(flg==temLen){
            pdf.save("PanRong-resume.pdf");     
        }
}
   /*将图片转换成Base64*/
function image2Base64(img){
    var canvas = document.createElement("canvas");
        canvas.width = img.width;
        canvas.height = img.height;
    var ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0, img.width, img.height);
    //返回图片dataURL，参数：图片格式和清晰度(0-1)
    var dataURL = canvas.toDataURL("image/png",1.0);
        base64ToPdf(dataURL);
} 
/*获取图片Base64编码*/
function getImgBase64(imgSrc){
    var img = new Image();
        //img.src="images/printimages/first.jpg";
        img.src=`images/printimages/${imgSrc}.jpg`;
        img.onload=function(){
           image2Base64(img);
        }
}
</script>
</body>
</html>